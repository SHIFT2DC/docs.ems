"use strict";(globalThis.webpackChunkdocs_ems=globalThis.webpackChunkdocs_ems||[]).push([[803],{7248:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"installation","title":"Installation","description":"Follow these steps to install and set up EMS locally.","source":"@site/docs/installation.md","sourceDirName":".","slug":"/installation","permalink":"/docs.ems/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/SHIFT2DC.github.io/docs.ems/tree/main/docs/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs.ems/"},"next":{"title":"Quick Start","permalink":"/docs.ems/quick-start"}}');var r=t(4848),a=t(8453);const s={sidebar_position:2},o="Installation",l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Software",id:"software",level:3},{value:"Hardware",id:"hardware",level:3},{value:"Clone the Repository",id:"clone-the-repository",level:2},{value:"Install Dependencies",id:"install-dependencies",level:2},{value:"Web-application dependencies",id:"web-application-dependencies",level:3},{value:"Configure other dependencies",id:"configure-other-dependencies",level:2},{value:"Initialize database cluster",id:"initialize-database-cluster",level:3},{value:"Creating tables in the database",id:"creating-tables-in-the-database",level:4},{value:"<code>.env</code> environment variables configuration",id:"env-environment-variables-configuration",level:3},{value:"How to configure <code>VITE_BASE_URL</code> in <code>EMS4DC/web-app/frontend/.env</code>",id:"how-to-configure-vite_base_url-in-ems4dcweb-appfrontendenv",level:4},{value:"Python virtual environment set up",id:"python-virtual-environment-set-up",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,r.jsx)(n.p,{children:"Follow these steps to install and set up EMS locally."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.h3,{id:"software",children:"Software"}),"\n",(0,r.jsx)(n.p,{children:"Before you begin, ensure you have the following installed:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node.js v22.12.0 LTS (Versions higher than v22 also can be installed, however the EMS was tested on this specific release of Node.js)"}),"\n",(0,r.jsx)(n.li,{children:"PostgreSQL v16 (During the installation make sure that PSQL terminal is installed)"}),"\n",(0,r.jsx)(n.li,{children:"Python v3.12 (This exact release of Python is needed because of the availability of CPLEX Python package for optimization)"}),"\n",(0,r.jsx)(n.li,{children:"Git"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"hardware",children:"Hardware"}),"\n",(0,r.jsx)(n.p,{children:"EMS can run on any modern computer with at least 8GB of RAM. For long-term use, consider a server with higher specifications. The EMS must be deployed on the machine with Windows 11."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"High amount of RAM is recommended, since the current version of EMS requires Windows 11 on the machine."})}),"\n",(0,r.jsx)(n.h2,{id:"clone-the-repository",children:"Clone the Repository"}),"\n",(0,r.jsxs)(n.p,{children:["Select a folder which will contain all the resources for the EMS. As an example a ",(0,r.jsx)(n.code,{children:"1_SHIFT2DC"})," folder can be created in the following directory: ",(0,r.jsx)(n.code,{children:"C:\\Users\\YOUR_USER\\Documents\\1_SHIFT2DC"})]}),"\n",(0,r.jsxs)(n.p,{children:["Open the created folder and right click in the File Explorer to reveal the menu. In the opened menu select ",(0,r.jsx)(n.code,{children:"Open in Terminal"})]}),"\n",(0,r.jsx)(n.p,{children:"In the opened terminal proceed with the following commands:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create a "1_EMS" folder\r\nmkdir "1_EMS"\r\n# Create a "1_1_EMS Data" folder\r\nmkdir "1_1_EMS Data"\r\ncd "1_EMS"\r\ngit clone https://github.com/SHIFT2DC/EMS4DC.git\r\ncd "EMS4DC"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,r.jsx)(n.h3,{id:"web-application-dependencies",children:"Web-application dependencies"}),"\n",(0,r.jsxs)(n.p,{children:["With the terminal opened in ",(0,r.jsx)(n.code,{children:"C:\\Users\\YOUR_USER\\Documents\\1_SHIFT2DC\\1_EMS\\EMS4DC"})," install needed packages for web-application:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Using npm\r\ncd web-app/frontend/\r\nnpm install --verbose\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsxs)(n.p,{children:["There is a probability that running scripts on your system is disabled. If such error is encountered then run the following command in the terminal and then enter ",(0,r.jsx)(n.code,{children:"Y"})," to confirm the change:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\n"})})]}),"\n",(0,r.jsx)(n.p,{children:"After the packages have been installed it is needed to install additional UI components:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx shadcn@latest add accordion alert badge button card input label progress select separator sheet sidebar skeleton slider table tabs textarea toast tooltip\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configure-other-dependencies",children:"Configure other dependencies"}),"\n",(0,r.jsx)(n.h3,{id:"initialize-database-cluster",children:"Initialize database cluster"}),"\n",(0,r.jsxs)(n.p,{children:["Locate where PostgreSQL was installed on the machine. Usually the installation directory is the following: ",(0,r.jsx)(n.code,{children:"C:\\Program Files\\PostgreSQL\\16"})," and copy the path to the ",(0,r.jsx)(n.code,{children:"initdb.exe"})," executable. For example, ",(0,r.jsx)(n.code,{children:"C:\\Program Files\\PostgreSQL\\16\\bin"})]}),"\n",(0,r.jsx)(n.p,{children:"Open a new terminal and proceed with initialization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Run the initialization of the cluster with your path to initdb.exe\r\n&"<YOUR\\PATH\\TO\\POSTGRE>\\initdb.exe" -D -W "C:\\Users\\YOUR_USER\\Documents\\1_SHIFT2DC\\1_1_EMS Data"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"-W"})," option will prompt for a password in the terminal. This password must be remembered."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Make sure to check the installation directory of the PostgreSQL and the path to the ",(0,r.jsx)(n.code,{children:"1_1_EMS Data"})," folder, so that the initialization is done correctly."]})}),"\n",(0,r.jsxs)(n.p,{children:["Now it is needed to start the PostgreSQL server to create tables for the system. For that, locate the ",(0,r.jsx)(n.code,{children:"postgresql.conf"})," file which should be generated at the cluster initialization and can be found in the ",(0,r.jsx)(n.code,{children:"1_1_EMS Data"})," folder. Open this file with any text editor and locate the line which says ",(0,r.jsx)(n.code,{children:"#port = 5432"}),". Remove the hashtag and adjust the port to the needs."]}),"\n",(0,r.jsx)(n.p,{children:"Now, start the server with the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'&"<YOUR\\PATH\\TO\\POSTGRE>\\pg_ctl.exe" -D "<YOUR\\PATH\\TO\\EMS Data>\\1_1_EMS Data"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"creating-tables-in-the-database",children:"Creating tables in the database"}),"\n",(0,r.jsx)(n.p,{children:"It is required to create tables in the initialized database cluster."}),"\n",(0,r.jsxs)(n.p,{children:["Open the PSQL terminal, which was installed together with the PostgreSQL. This terminal may be located by default in ",(0,r.jsx)(n.code,{children:"C:\\Program Files\\PostgreSQL\\16\\scripts\\runpsql.bat"})]}),"\n",(0,r.jsx)(n.p,{children:"In this terminal connect to the initialized cluster with the correct credentials."}),"\n",(0,r.jsx)(n.p,{children:"When successfully connected proceed with the following commands in the terminal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'# Create a new database:\r\nCREATE DATABASE "ems-db";\r\n\r\n# Connect to the newly created database:\r\n\\c "ems-db"\r\n\r\n# Create table for measurements:\r\nCREATE TABLE measurements (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    measurement_id INT NOT NULL,\r\n    time TIMESTAMP NOT NULL DEFAULT now(),\r\n    parameter TEXT NOT NULL,       \r\n    value DOUBLE PRECISION NOT NULL,\r\n    unit TEXT NOT NULL,            \r\n    quality TEXT\r\n);\r\n\r\n# Create table for optimization inputs and outputs:\r\nCREATE TABLE "ems-inputs" (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    input_id INT NOT NULL,\r\n    time TIMESTAMP NOT NULL DEFAULT now(),\r\n    parameter TEXT NOT NULL,       \r\n    value DOUBLE PRECISION NOT NULL,\r\n    unit TEXT NOT NULL,            \r\n    quality TEXT\r\n);\r\n\r\nCREATE TABLE "ems-outputs" (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    output_id INT NOT NULL,\r\n    time TIMESTAMP NOT NULL DEFAULT now(),\r\n    parameter TEXT NOT NULL,       \r\n    value DOUBLE PRECISION NOT NULL,\r\n    unit TEXT NOT NULL,            \r\n    quality TEXT\r\n);\r\n\r\n# Exit when done:\r\n\\q\n'})}),"\n",(0,r.jsx)(n.p,{children:"After this, the terminal can be closed."}),"\n",(0,r.jsxs)(n.h3,{id:"env-environment-variables-configuration",children:[(0,r.jsx)(n.code,{children:".env"})," environment variables configuration"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Make sure to copy the environment variables from ",(0,r.jsx)(n.code,{children:".env.example"})," to ",(0,r.jsx)(n.code,{children:".env"})," before running the application."]})}),"\n",(0,r.jsxs)(n.p,{children:["Those ",(0,r.jsx)(n.code,{children:".env"})," files can be found in ",(0,r.jsx)(n.code,{children:"EMS4DC/web-app/frontend/.env.example"})," and ",(0,r.jsx)(n.code,{children:"EMS4DC/web-app/backend/.env.example"})]}),"\n",(0,r.jsxs)(n.h4,{id:"how-to-configure-vite_base_url-in-ems4dcweb-appfrontendenv",children:["How to configure ",(0,r.jsx)(n.code,{children:"VITE_BASE_URL"})," in ",(0,r.jsx)(n.code,{children:"EMS4DC/web-app/frontend/.env"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"VITE_BASE_URL"})," variable defines where the backend server is hosted. If the backend server is hosted locally then the variable should be set to ",(0,r.jsx)(n.code,{children:"http://localhost:3001"})]}),"\n",(0,r.jsx)(n.h3,{id:"python-virtual-environment-set-up",children:"Python virtual environment set up"}),"\n",(0,r.jsxs)(n.p,{children:["With terminal navigate to the ",(0,r.jsx)(n.code,{children:"EMS4DC/system-coordination"})," folder"]}),"\n",(0,r.jsx)(n.p,{children:"Validate what version of Python are installed on the machine and create a Python virtual environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List available Python Versions\r\npy -0\r\n\r\n# Create virtual environment with 3.12 version\r\npy -3.12 -m venv sys-coord\r\n\r\n# Activate the virtual environment\r\nsys-coord\\Scripts\\activate\r\n\r\n# Install needed packages:\r\npy -m pip install -r requirements.txt\r\n\r\n# Deactivate virtual environment\r\ndeactivate\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);